<div class="apiDocsToggler apiDocsToggler--showOnLoad apiReference__nutritionalInfoToggler"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="facts">Facts</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiReference__nutritionalInfo"><div class="apiReference__factBlocks"><div class="apiReference__factBlock apiReference__factBlock--accessMethods"><h3 id="method" class="apiReference__factLabel"><i class="c-icon c-icon--plug c-icon--inline"></i>Method access</h3><div class="apiReference__fact apiDocsTabber"><div class="apiDocsTabber__switches"><div class="apiDocsTabber__switch apiDocsTabber__switch--active" data-target="http">HTTP</div><div class="apiDocsTabber__switch" data-target="js"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="apiBoltIcon"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M16,32A16,16,0,0,0,32,16H16Z"></path><path class="cls-2" d="M32,16A16,16,0,0,0,16,0V16Z"></path><path class="cls-3" d="M16,0A16,16,0,0,0,0,16H16Z"></path><path class="cls-4" d="M0,16A16,16,0,0,0,16,32V16Z"></path><polygon class="cls-5" points="16 16 8.84 16 16 5.68 16 16"></polygon><polygon class="cls-5" points="16 16 16 26.32 23.16 16 16 16"></polygon></g></g></svg>JavaScript</div><div class="apiDocsTabber__switch" data-target="python"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="apiBoltIcon"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M16,32A16,16,0,0,0,32,16H16Z"></path><path class="cls-2" d="M32,16A16,16,0,0,0,16,0V16Z"></path><path class="cls-3" d="M16,0A16,16,0,0,0,0,16H16Z"></path><path class="cls-4" d="M0,16A16,16,0,0,0,16,32V16Z"></path><polygon class="cls-5" points="16 16 8.84 16 16 5.68 16 16"></polygon><polygon class="cls-5" points="16 16 16 26.32 23.16 16 16 16"></polygon></g></g></svg>Python</div><div class="apiDocsTabber__switch" data-target="java"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="apiBoltIcon"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M16,32A16,16,0,0,0,32,16H16Z"></path><path class="cls-2" d="M32,16A16,16,0,0,0,16,0V16Z"></path><path class="cls-3" d="M16,0A16,16,0,0,0,0,16H16Z"></path><path class="cls-4" d="M0,16A16,16,0,0,0,16,32V16Z"></path><polygon class="cls-5" points="16 16 8.84 16 16 5.68 16 16"></polygon><polygon class="cls-5" points="16 16 16 26.32 23.16 16 16 16"></polygon></g></g></svg>Java</div></div><div class="apiDocsTabber__tabs"><div class="apiReference__accessMethod apiReference__accessMethod--http apiDocsTabber__tab apiDocsTabber__tab--active" data-tab="http"><span id="http_access" class="apiReference__accessMethodLabel">HTTP</span><div class="apiReference__accessMethodInfo"><code class="apiReference__methodAccessUrl"><span class="apiMethodPage__method apiMethodPage__postMethod">POST</span><span class="apiReference__methodUrlString" onclick="window.getSelection().selectAllChildren(this);"><span>https://slack.</span><span>com/api/chat.</span><span>postEphemeral</span></span></code></div></div><div class="apiReference__accessMethod apiReference__accessMethod--java apiDocsTabber__tab" data-tab="java"><span id="java_access" class="apiReference__accessMethodLabel"><a href="/tools/bolt">Bolt for Java</a></span><div class="apiReference__accessMethodInfo"><code class="apiReference__boltMethod" onclick="window.getSelection().selectAllChildren(this);"><span class="apiReference__boltMethodPrefix">app.client().</span>chatPostEphemeral</code></div><span class="apiReference__accessMethodHelp"><a href="/tools/bolt">Powered by Bolt</a></span></div><div class="apiReference__accessMethod apiReference__accessMethod--python apiDocsTabber__tab" data-tab="python"><span id="python_access" class="apiReference__accessMethodLabel"><a href="/tools/bolt">Bolt for Python</a></span><div class="apiReference__accessMethodInfo"><code class="apiReference__boltMethod" onclick="window.getSelection().selectAllChildren(this);"><span class="apiReference__boltMethodPrefix">app.client.</span><span>chat_postEphemeral</span></code></div><span class="apiReference__accessMethodHelp"><a href="/tools/bolt">Powered by Bolt</a></span></div><div class="apiReference__accessMethod apiReference__accessMethod--js apiDocsTabber__tab" data-tab="js"><span id="js_access" class="apiReference__accessMethodLabel"><a href="/tools/bolt">Bolt for JavaScript</a></span><div class="apiReference__accessMethodInfo"><code class="apiReference__boltMethod" onclick="window.getSelection().selectAllChildren(this);"><span class="apiReference__boltMethodPrefix">app.client.</span>chat.postEphemeral</code></div><span class="apiReference__accessMethodHelp"><a href="/tools/bolt">Powered by Bolt</a></span></div></div></div></div><div class="apiReference__factBlock apiReference__factBlock--scopes"><h3 id="scopes" class="apiReference__factLabel"><i class="c-icon c-icon--key c-icon--inline"></i>Required scopes</h3><div class="apiReference__fact"><div class="apiReference__tokenGrid"><div class="apiReference__tokenRow apiReference__tokenRow--granular_bot"><span class="apiReference__tokenType"><a class="apiReference__tokenTypePill apiReference__tokenTypePill--granular_bot" href="/docs/token-types#granular_bot">Bot tokens</a></span><span class="apiReference__tokenRowScopes"><a href="/scopes/chat:write" title="Only for use with new Slack apps." class="apiReference__scope apiReference__scope--chat:write"><code>chat:write</code></a></span></div><div class="apiReference__tokenRow apiReference__tokenRow--user"><span class="apiReference__tokenType"><a class="apiReference__tokenTypePill apiReference__tokenTypePill--user" href="/docs/token-types#user">User tokens</a></span><span class="apiReference__tokenRowScopes"><a href="/scopes/chat:write" title="Only for use with new Slack apps." class="apiReference__scope apiReference__scope--chat:write"><code>chat:write</code></a><a href="/scopes/chat:write:user" title="" class="apiReference__scope apiReference__scope--chat:write:user"><code>chat:write:user</code></a><a href="/scopes/chat:write:bot" title="" class="apiReference__scope apiReference__scope--chat:write:bot"><code>chat:write:bot</code></a></span></div><div class="apiReference__tokenRow apiReference__tokenRow--bot"><span class="apiReference__tokenType"><a class="apiReference__tokenTypePill apiReference__tokenTypePill--bot" href="/docs/token-types#bot">Legacy bot tokens</a></span><span class="apiReference__tokenRowScopes"><a href="/scopes/bot" title="" class="apiReference__scope apiReference__scope--bot"><code>bot</code></a></span></div></div></div></div><div class="apiReference__factBlock apiReference__factBlock--contentTypes"><h3 id="contenttypes" class="apiReference__factLabel"><i class="c-icon c-icon--create-post c-icon--inline"></i>Content types</h3><div class="apiReference__fact apiMethodPage__contentTypes"><code>application/x-www-form-urlencoded</code><a title="Learn more about sending HTTP POST with JSON" href="/web#posting_json"><code>application/json</code></a></div></div><li class="apiReference__factBlock apiReference__factBlock--rateLimits"><h3 id="ratelimites" class="apiReference__factLabel"><i class="c-icon c-icon--dashboard c-icon--inline"></i>Rate limits</h3><span class="apiMethodPage__rateLimit apiReference__fact apiMethodPage__rateLimit--t4"><a href="/docs/rate-limits#tier_t4">Tier 4</a></span></li></div></div></div><div class="apiDocsToggler apiDocsToggler--showOnLoad"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="args">Arguments</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiReference__arguments"><div class="apiMethodPage__argumentSection"><div class="apiMethodPage__argumentList apiMethodPage__argumentList----required"><span class="apiMethodPage__listName apiMethodPage__listName--required">Required arguments</span><div class="apiMethodPage__argumentRow"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--token"><code>token</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType"><a href="/authentication/token-types">token</a></div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--required"><i>·</i>Required</div><a class="apiMethodPage__argumentPermalink" href="#arg_token" name="arg_token"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Authentication token bearing required scopes. Tokens should be passed as an HTTP Authorization header or alternatively, as a POST parameter.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">xxxx-xxxxxxxxx-xxxx</code></div></div></div></div><div class="apiMethodPage__argumentRow"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--channel"><code>channel</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--required"><i>·</i>Required</div><a class="apiMethodPage__argumentPermalink" href="#arg_channel" name="arg_channel"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">C1234567890</code></div></div></div></div><div class="apiMethodPage__argumentRow"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--user"><code>user</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType"></div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--required"><i>·</i>Required</div><a class="apiMethodPage__argumentPermalink" href="#arg_user" name="arg_user"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p><code>id</code> of the user who will receive the ephemeral message. The user should be in the channel specified by the <code>channel</code> argument.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">U0BPQUNTA</code></div></div></div></div></div><div class="apiMethodPage__argumentGroup"><div class="apiMethodPage__argumentGroupHeader"><div class="apiMethodPage__argumentGroupMetadata"><div class="apiMethodPage__argument"><em>At least one of</em><span class="apiReference__methodName--attachments"><code>attachments</code></span><span class="apiReference__methodName--blocks"><code>blocks</code></span><span class="apiReference__methodName--text"><code>text</code></span></div></div><div class="apiMethodPage__argumentGroupDesc"><p>One of these arguments is required to describe the content of the message. If <code>attachments</code> or <code>blocks</code> are included, <code>text</code> will be used as fallback text for notifications only.</p>
</div></div><div class="apiMethodPage__argumentList"><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--attachments"><code>attachments</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><a class="apiMethodPage__argumentPermalink" href="#arg_attachments" name="arg_attachments"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>A JSON-based array of structured attachments, presented as a URL-encoded string.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">[{"pretext": "pre-hello", "text": "text-world"}]</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--blocks"><code>blocks</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType"><a href="/reference/block-kit/blocks">blocks[] as string</a></div><a class="apiMethodPage__argumentPermalink" href="#arg_blocks" name="arg_blocks"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>A JSON-based array of structured blocks, presented as a URL-encoded string.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">[{"type": "section", "text": {"type": "plain_text", "text": "Hello world"}}]</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--text"><code>text</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><a class="apiMethodPage__argumentPermalink" href="#arg_text" name="arg_text"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>How this field works and whether it is required depends on other fields you use in your API call. <a href="#text_usage">See below</a> for more detail.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">Hello world</code></div></div></div></div></div></div><div class="apiMethodPage__argumentList apiMethodPage__argumentList----optional"><span class="apiMethodPage__listName apiMethodPage__listName--optional">Optional arguments</span><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--as_user"><code>as_user</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">boolean</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_as_user" name="arg_as_user"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>(Legacy) Pass true to post the message as the authed user. Defaults to true if the chat:write:bot scope is not included. Otherwise, defaults to false.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">true</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--icon_emoji"><code>icon_emoji</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_icon_emoji" name="arg_icon_emoji"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Emoji to use as the icon for this message. Overrides <code>icon_url</code>.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">:chart_with_upwards_trend:</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--icon_url"><code>icon_url</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_icon_url" name="arg_icon_url"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>URL to an image to use as the icon for this message.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">http://lorempixel.com/48/48</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--link_names"><code>link_names</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">boolean</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_link_names" name="arg_link_names"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Find and link channel names and usernames.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">true</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--parse"><code>parse</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_parse" name="arg_parse"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Change how messages are treated. Defaults to <code>none</code>. See <a href="#formatting">below</a>.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">full</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--thread_ts"><code>thread_ts</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_thread_ts" name="arg_thread_ts"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Provide another message's <code>ts</code> value to post this message in a thread. Avoid using a reply's <code>ts</code> value; use its parent's value instead. Ephemeral messages in threads are only shown if there is already an active thread.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">1234567890.123456</code></div></div></div></div><div class="apiMethodPage__argumentRow apiMethodPage__argumentRow--optional apiDocsToggler"><div class="apiMethodPage__argumentMetadata apiDocsToggler__toggle"><div class="apiMethodPage__argument"><span class="apiReference__methodName--username"><code>username</code></span></div><div class="apiMethodPage__argumentExtras"><div class="apiMethodPage__argumentType">string</div><div class="apiMethodPage__argumentOptionality apiMethodPage__argumentOptionality--optional"><i>·</i>Optional</div><a class="apiMethodPage__argumentPermalink" href="#arg_username" name="arg_username"><i class="c-icon c-icon--inherit c-icon--inline c-icon--link"></i></a></div></div><div class="apiMethodPage__argumentDesc apiDocsToggler__target"><p>Set your bot's user name.</p>
<div class="apiReference__example"><strong>Example</strong><div class="apiReference__exampleCode"><code class="json hljs">My Bot</code></div></div></div></div></div></div></div></div><div class="apiDocsToggler apiDocsToggler--showOnLoad"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="markdown">Usage info</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiDocsPage__markdownOutput"><p>This method posts an ephemeral message, which is visible only to the assigned user in a specific public channel, private channel, or private conversation.</p>
<p>Ephemeral message delivery is not guaranteed — the user must be currently active in Slack and a member of the specified <code>channel</code>. By nature, ephemeral messages do not persist across reloads, desktop and mobile apps, or sessions. Once the session is closed, ephemeral messages will disappear and cannot be recovered.</p>
<p>Use ephemeral messages to send users context-sensitive messages, relevant to the channel they're detectably participating in. Avoid sending unexpected or unsolicited ephemeral messages.</p>
<p><a name="text_usage"></a></p>
<a name="text__blocks_or_attachments"></a><h3 class="headingWithAnchor" id="text-blocks-attachments"><code>text</code>, <code>blocks</code> or <code>attachments</code> <a href="#text-blocks-attachments"><i class="glyphIcon fa fa-link"></i></a></h3>
<p>The usage of the <code>text</code> field changes depending on whether you're using <code>blocks</code>. If you're using <code>blocks</code>, this is used as a fallback string to display in notifications. If you aren't, this is the main body text of the message. It can be formatted as plain text, or with <code>mrkdwn</code>.</p>
<p>The <code>text</code> field is not enforced as required when using <code>blocks</code> or <code>attachments</code>. However, we highly recommended that you include <code>text</code> to provide a fallback when using <code>blocks</code>, as described above.</p>
<a name="formatting"></a><h2 class="headingWithAnchor" id="formatting">Formatting<a href="#formatting"><i class="glyphIcon fa fa-link"></i></a></h2>
<p>Messages are formatted as described in the <a href="/docs/message-formatting">formatting spec</a>. You can specify values for <code>parse</code> and <code>link_names</code> to change formatting behavior.</p>
<p>The optional <code>attachments</code> argument should contain a JSON-encoded array of attachments.</p>
<p>For more information, see the <a href="/docs/message-attachments">attachments spec</a>. If you're using a <a href="/slack-apps">Slack app</a>, you can also use this method to attach <a href="/docs/message-buttons">message buttons</a>.</p>
<p>For best results, limit the number of characters in the <code>text</code> field to a few thousand bytes at most. Ideally, messages should be short and human-readable, if you need to post longer messages, please consider <a href="/methods/files.upload">uploading a snippet instead</a>. (A single message should be no larger than 4,000 bytes.)</p>
<p>Consider reviewing our <a href="/start/designing#messaging">message guidelines</a>, especially if you're using attachments or message buttons.</p>
<a name="authorship"></a><h2 class="headingWithAnchor" id="authorship">Authorship<a href="#authorship"><i class="glyphIcon fa fa-link"></i></a></h2>
<p>How message authorship is attributed varies by a few factors, with some behaviors varying depending on the kinds of tokens you're using to post a message.</p>
<a name="legacy_concerns"></a><h2 class="headingWithAnchor" id="legacy">Legacy concerns <a href="#legacy"><i class="glyphIcon fa fa-link"></i></a></h2>
<div class="apiDocsCalloutCard apiDocsCalloutCard--important">
  <i class="ts_icon c-icon c-icon--broadcast"></i>
  <div>
Information in the section below applies only to classic Slack apps.
  </div>
</div>
<a name="legacy_authorship"></a><h3 class="headingWithAnchor" id="legacy_authorship">Legacy authorship <a href="#legacy_authorship"><i class="glyphIcon fa fa-link"></i></a></h3>
<p>Classic Slack apps using the umbrella <code>bot</code> scope can't request additional scopes to adjust message authorship.</p>
<p>For classic Slack apps, the best way to control the authorship of a message is to be explicit with the <code>as_user</code> parameter.</p>
<p>If you don't use the <code>as_user</code> parameter, <code>chat.postEphemeral</code> will guess the most appropriate <code>as_user</code> interpretation based on the kind of token you're using.</p>
<p>If <code>as_user</code> is not provided at all, then the value is inferred, based on the scopes granted to the caller: If the caller <em>could</em> post with <code>as_user</code> passed as <code>false</code>, then that is how the method behaves; otherwise, the method behaves as if <code>as_user</code> were passed as <code>true</code>.</p>
<a name="when_as_user_is_false"></a><h3 class="headingWithAnchor" id="legacy__when-as_user-is-false">When <code>as_user</code> is false<a href="#legacy__when-as_user-is-false"><i class="glyphIcon fa fa-link"></i></a></h3>
<p>When the <code>as_user</code> parameter is set to <code>false</code>, messages are posted as "<a href="/events/message/bot_message"><code>bot_messages</code></a>", with message authorship attributed to the user name and icons associated with the <a href="/slack-apps">Slack App</a>.</p>
<a name="when_as_user_is_true"></a><h3 class="headingWithAnchor" id="legacy__when-as_user-is-true">When <code>as_user</code> is true<a href="#legacy__when-as_user-is-true"><i class="glyphIcon fa fa-link"></i></a></h3>
<p>Set <code>as_user</code> to <code>true</code> and the authenticated user will appear as the author of the message. Posting as the authenticated user <strong>requires</strong> the <code>client</code> or the more preferred <code>chat:write:user</code> <a href="/scopes">scopes</a>.</p>
<a name="target_channels_and_users"></a><h2 class="headingWithAnchor" id="target-channels-and-users">Target channels and users<a href="#target-channels-and-users"><i class="glyphIcon fa fa-link"></i></a></h2>
<p>You <strong>must</strong> specify a conversation container (public channel, private channel, or an IM channel) by providing its ID to the <code>channel</code> argument. You also must specify a target <code>user</code>.</p>
<p>Each type of channel behaves slightly differently based on the authenticated user's permissions and additional arguments. If the target <code>user</code> is not in the given channel, the ephemeral message will not be delivered, and we'll return a <code>user_not_in_channel</code> error.</p>
<p>Workspace apps will receive a <code>no_permission</code> error when they are not a member of the specified <code>channel</code>.</p>
<p>Note that the <code>user</code> parameter expects a user's <code>id</code>, and not a username or display name.</p>
<a name="post_to_a_public_channel"></a><h4 class="headingWithAnchor" id="target-channels-and-users__post-to-a-public-channel">Post to a public channel<a href="#target-channels-and-users__post-to-a-public-channel"><i class="glyphIcon fa fa-link"></i></a></h4>
<p>You can either pass the channel's name (<code>#general</code>) or encoded ID (<code>C024BE91L</code>), and the message will be posted to that channel. The channel's ID can be retrieved through the <a href="/methods/channels.list">channels.list</a> API method.</p>
<a name="post_to_a_private_group"></a><h4 class="headingWithAnchor" id="target-channels-and-users__post-to-a-private-group">Post to a private group<a href="#target-channels-and-users__post-to-a-private-group"><i class="glyphIcon fa fa-link"></i></a></h4>
<p>As long as the authenticated user is a member of the private group, you can either pass the group's name (<code>secret-group</code>) or encoded ID (<code>G012AC86C</code>), and the message will be posted to that group. The private group's ID can be retrieved through the <a href="/methods/conversations.list">conversations.list</a> API method.</p>
<a name="post_to_an_im_channel"></a><h4 class="headingWithAnchor" id="target-channels-and-users__post-to-an-im-channel">Post to an IM channel<a href="#target-channels-and-users__post-to-an-im-channel"><i class="glyphIcon fa fa-link"></i></a></h4>
<p>Posting to an IM channel is a little more complex depending on the value of <code>as_user</code>.</p>
<ul>
<li>If <code>as_user</code> is false:
<ul>
<li>Pass a username (<code>@chris</code>) as the value of <code>channel</code> to post to that user's @slackbot channel <em>as the bot</em>.</li>
<li>Pass the IM channel's ID (<code>D023BB3L2</code>) as the value of <code>channel</code> to post to that IM channel <em>as the bot</em>. The IM channel's ID can be retrieved through the <a href="/methods/im.list">im.list</a> API method.</li>
</ul>
</li>
<li>If <code>as_user</code> is true:
<ul>
<li>Pass the IM channel's ID (<code>D023BB3L2</code>) as the value of <code>channel</code> to post to that IM channel <em>as the authenticated user</em>. The IM channel's ID can be retrieved through the <a href="/methods/im.list">im.list</a> API method.</li>
</ul>
</li>
</ul>
<p>To send a direct message to the user <em>owning</em> the token used in the request, provide the <code>channel</code> field with the a conversation/IM ID value found in a method like <a href="/methods/im.list"><code>im.list</code></a>.</p>
<p>The <code>message_ts</code> included with the response <em>cannot</em> be used with <a href="/methods/chat.update"><code>chat.update</code></a>, as it does not represent an actual message written to the database like it does with other api methods.</p>
</div></div><div class="apiDocsToggler apiDocsToggler--showOnLoad"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="examples">Example responses</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiReference__response"><div class="apiReference__example"><h3>Common successful response</h3><p class="example_description"></p><p>Typical success response</p>
<p></p><pre><code class="json">{
    "ok": true,
    "message_ts": "1502210682.580145"
}</code></pre></div><div class="apiReference__example"><h3>Common error response</h3><p class="example_description"></p><p>Typical error response</p>
<p></p><pre><code class="json">{
    "ok": false,
    "error": "user_not_in_channel"
}</code></pre></div></div></div><div class="apiDocsToggler apiDocsToggler--showOnLoad"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="errors">Errors</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiReference__errors"><p> This table lists the expected errors that this method could return. However, other errors can be returned in the case where the service is down or other unexpected factors affect processing. Callers should always check the value of the <code>ok</code> params in the response. </p><table class="apiDocsTable apiDocsTable--active"><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td data-label="Error"><span class="apiReference__titleCell"><code>channel_not_found</code></span></td><td data-label="Description"><p>Value passed for <code>channel</code> was invalid.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_blocks</code></span></td><td data-label="Description"><p>Blocks submitted with this message are not valid</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_blocks_format</code></span></td><td data-label="Description"><p>The <code>blocks</code> is not a valid JSON object or doesn't match the Block Kit syntax.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>is_archived</code></span></td><td data-label="Description"><p>Channel has been archived.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>message_limit_exceeded</code></span></td><td data-label="Description"><p>Members on this team are sending too many messages. For more details, see <a href="https://slack.com/help/articles/115002422943-Usage-limits-for-free-workspaces">https://slack.com/help/articles/115002422943-Usage-limits-for-free-workspaces</a></p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>messages_tab_disabled</code></span></td><td data-label="Description"><p>Messages tab for the app is disabled.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>msg_too_long</code></span></td><td data-label="Description"><p>Message text is too long</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>no_text</code></span></td><td data-label="Description"><p>No message text provided</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>restricted_action</code></span></td><td data-label="Description"><p>A workspace preference prevents the authenticated user from posting.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>too_many_attachments</code></span></td><td data-label="Description"><p>Too many attachments were provided with this message. A maximum of 100 attachments are allowed on a message.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>user_not_in_channel</code></span></td><td data-label="Description"><p>Intended recipient is not in the specified channel.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>access_denied</code></span></td><td data-label="Description"><p>Access to a resource specified in the request is denied.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>account_inactive</code></span></td><td data-label="Description"><p>Authentication token is for a deleted user or workspace when using a <code>bot</code> token.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>deprecated_endpoint</code></span></td><td data-label="Description"><p>The endpoint has been deprecated.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>ekm_access_denied</code></span></td><td data-label="Description"><p>Administrators have suspended the ability to post a message.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>enterprise_is_restricted</code></span></td><td data-label="Description"><p>The method cannot be called from an Enterprise.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_auth</code></span></td><td data-label="Description"><p>Some aspect of authentication cannot be validated. Either the provided token is invalid or the request originates from an IP address disallowed from making the request.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>method_deprecated</code></span></td><td data-label="Description"><p>The method has been deprecated.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>missing_scope</code></span></td><td data-label="Description"><p>The token used is not granted the specific scope permissions required to complete this request.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>not_allowed_token_type</code></span></td><td data-label="Description"><p>The token type used in this request is not allowed.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>not_authed</code></span></td><td data-label="Description"><p>No authentication token provided.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>no_permission</code></span></td><td data-label="Description"><p>The workspace token used in this request does not have the permissions necessary to complete the request. Make sure your app is a member of the conversation it's attempting to post a message to.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>org_login_required</code></span></td><td data-label="Description"><p>The workspace is undergoing an enterprise migration and will not be available until migration is complete.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>token_expired</code></span></td><td data-label="Description"><p>Authentication token has expired</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>token_revoked</code></span></td><td data-label="Description"><p>Authentication token is for a deleted user or workspace or the app has been removed when using a <code>user</code> token.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>two_factor_setup_required</code></span></td><td data-label="Description"><p>Two factor setup is required.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>team_access_not_granted</code></span></td><td data-label="Description"><p>The token used is not granted the specific workspace access required to complete this request.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>accesslimited</code></span></td><td data-label="Description"><p>Access to this method is limited on the current network</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>fatal_error</code></span></td><td data-label="Description"><p>The server could not complete your operation(s) without encountering a catastrophic error. It's possible some aspect of the operation succeeded before the error was raised.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>internal_error</code></span></td><td data-label="Description"><p>The server could not complete your operation(s) without encountering an error, likely due to a transient issue on our end. It's possible some aspect of the operation succeeded before the error was raised.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_arg_name</code></span></td><td data-label="Description"><p>The method was passed an argument whose name falls outside the bounds of accepted or expected values. This includes very long names and names with non-alphanumeric characters other than <code>_</code>. If you get this error, it is typically an indication that you have made a <em>very</em> malformed API call.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_arguments</code></span></td><td data-label="Description"><p>The method was either called with invalid arguments or some detail about the arguments passed is invalid, which is more likely when using complex arguments like blocks or attachments.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_array_arg</code></span></td><td data-label="Description"><p>The method was passed an array as an argument. Please only input valid strings.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_charset</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request, but the <code>charset</code> specified in the <code>Content-Type</code> header was invalid. Valid charset names are: <code>utf-8</code> <code>iso-8859-1</code>.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_form_data</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request with <code>Content-Type</code> <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>, but the form data was either missing or syntactically invalid.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>invalid_post_type</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request, but the specified <code>Content-Type</code> was invalid. Valid types are: <code>application/json</code> <code>application/x-www-form-urlencoded</code> <code>multipart/form-data</code> <code>text/plain</code>.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>missing_post_type</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request and included a data payload, but the request did not include a <code>Content-Type</code> header.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>ratelimited</code></span></td><td data-label="Description"><p>The request has been ratelimited. Refer to the <code>Retry-After</code> header for when to retry the request.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>request_timeout</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request, but the <code>POST</code> data was either missing or truncated.</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>service_unavailable</code></span></td><td data-label="Description"><p>The service is temporarily unavailable</p>
</td></tr><tr><td data-label="Error"><span class="apiReference__titleCell"><code>team_added_to_org</code></span></td><td data-label="Description"><p>The workspace associated with your request is currently undergoing migration to an Enterprise Organization. Web API and other platform operations will be intermittently unavailable until the transition is complete.</p>
</td></tr></tbody></table></div></div><div class="apiDocsToggler apiDocsToggler--showOnLoad"><h2 class="apiDocsToggler__toggle apiDocsToggler__toggle--toggled apiInPageNav__linkableHeader" id="warnings">Warnings</h2><div class="apiDocsToggler__target apiDocsToggler__target--toggled apiReference__warnings"><p>This table lists the expected warnings that this method will return. However, other warnings can be returned in the case where the service is experiencing unexpected trouble. </p><table class="apiDocsTable apiDocsTable--active"><thead><tr><th>Warning</th><th>Description</th></tr></thead><tbody><tr><td data-label="Warning"><span class="apiReference__titleCell"><code>missing_charset</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request, and recommended practice for the specified <code>Content-Type</code> is to include a <code>charset</code> parameter. However, no <code>charset</code> was present. Specifically, non-form-data content types (e.g. <code>text/plain</code>) are the ones for which <code>charset</code> is recommended.</p>
</td></tr><tr><td data-label="Warning"><span class="apiReference__titleCell"><code>superfluous_charset</code></span></td><td data-label="Description"><p>The method was called via a <code>POST</code> request, and the specified <code>Content-Type</code> is not defined to understand the <code>charset</code> parameter. However, <code>charset</code> was in fact present. Specifically, form-data content types (e.g. <code>multipart/form-data</code>) are the ones for which <code>charset</code> is superfluous.</p>
</td></tr></tbody></table></div></div>