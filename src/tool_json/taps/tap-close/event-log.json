
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "date_created": {
      "type": "string",
      "description": "Event creation date"
    },
    "date_updated": {
      "type": "string",
      "description": "Event update date. Note that existing events can be updated if multiple actions to the same object happen in a short time frame. In this case, an event's date_updated may change, but the date_created will stay the same."
    },
    "organization_id": {
      "type": "string",
      "description": "The organization ID"
    },
    "user_id": {
      "type": ["string", "null"],
      "description": "The ID of the user who generated this event, or null if the event wasn't directly generated by a user action."
    },
    "request_id": {
      "type": "string",
      "description": "A string with the unique request identifier. Multiple events from the same request can be associated by looking at the request identifier."
    },
    "api_key_id": {
      "type": ["string", "null"],
      "description": "The API key ID used if the event was generated by a request made through the Close API using an API key, otherwise null."
    },
    "object_type": {
      "type": "string",
      "description": "Type of the object. Examples are lead, activity.email, status_change.opportunity. For a full list, see List of events."
    },
    "object_id": {
      "type": "string",
      "description": "The ID of the object that is affected."
    },
    "lead_id": {
      "type": ["string", "null"],
      "description": "The ID of the corresponding lead, if any, or null. In case of a lead event, this is equivalent to object_id."
    },
    "action": {
      "type": "string",
      "description": "The type of the event. The most common types are: created (An object was created), updated (An object was updated), deleted (An object was deleted). Certain object types can generate other actions (merged, completed, sent, etc.). For a full list, see List of events."
    },
    "changed_fields": {
      "type": "array",
      "description": "For update events, contains a list of fields that have changed."
    },
    "data": {
      "type": ["object", "null"],
      "description": "Contains the payload of the affected object as if you fetched it via API (null for delete events). For non-admins, this field is only returned for events less than one hour old."
    },
    "previous_data": {
      "type": ["object", "null"],
      "description": "For update events, this contains a dictionary of fields that have changed and their previous values. For delete events, this contains all the object attributes. For non-admins, this field is only returned for events less than one hour old."
    },
    "meta": {
      "type": "object",
      "description": "Contains additional helpful information for certain event types.",
      "properties": {
        "bulk_action_id": {
          "type": "string",
          "description": "For events caused by bulk actions, contains the bulk action ID."
        },
        "merge_source_lead_id": {
          "type": "string",
          "description": "For lead merge events, contains the ID of the source lead (that is being merged into the destination lead)."
        },
        "merge_destination_lead_id": {
          "type": "string",
          "description": "For lead merge events, contains the ID of the destination lead (that the source lead merges into)."
        },
        "request_method": {
          "type": "string",
          "description": "For events that are associated with an HTTP request, contains the request method of the request (e.g. POST)."
        },
        "request_path": {
          "type": "string",
          "description": "For events that are associated with an HTTP request, contains the request path of the request (e.g. /api/v1/lead/)."
        }
      },
      "additionalProperties": false
    }
  },
  "required": [
    "date_created",
    "organization_id",
    "request_id",
    "object_type",
    "object_id",
    "action"
  ],
  "additionalProperties": false
}
